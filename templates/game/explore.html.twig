{# templates/game/explore.html.twig #}

{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/explore.css') }}">
{% endblock %}

{% block body %}
    {# La carte du monde est en background CSS, le div ne contient plus les marqueurs #}
    <div class="world-map-background"></div> {# <--- Assurez-vous que ce div est vide ici #}

    {# Les marqueurs sont maintenant directement dans le body (via le block body) #}
    {# Ils seront positionnés absolument par rapport au body/fenêtre #}
    {% for loc in locations %}
        <div
            class="map-marker"
            data-id="{{ loc.id }}"
            data-name="{{ loc.name }}"
            data-description="{{ loc.description }}"
            data-danger="{{ loc.dangerLevel }}"
            style="left: {{ loc.x }}%; top: {{ loc.y }}%;"
        ></div>
    {% endfor %}

    {# L'infobulle #}
    <div id="location-infobox" class="location-infobox-popup hidden">
        <h3 id="infobox-name"></h3>
        <p id="infobox-description"></p>
        <p id="infobox-danger"></p>
        <a href="#" id="explore-link" class="button-explore">Explorer ce lieu</a>
        <button id="infobox-close-button" class="close-button">X</button>
    </div>
    <a href="{{ path('choose_hero') }}" class="button-return-to-hero">
        Retour au choix du héros
    </a>

{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('explore') }}
{% endblock %}